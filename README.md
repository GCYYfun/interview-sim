# Interview Simulator

一个基于AI的智能面试模拟和数据分析系统，集成了面试模拟、数据分析、经验提取和智能追问等多项功能。

## 🌟 项目特点

- **多模式面试模拟**：支持标准三方角色扮演和真实数据交互模式
- **智能数据分析**：全面分析面试数据，生成可视化报告
- **经验智能提取**：基于面试数据自动提取HR面试经验和技巧
- **AI面试助手**：智能生成针对性面试问题和候选人匹配度分析
- **AI候选人代理**：基于真实简历数据自动参与面试对话
- **三维能力评估**：重点评估"聪明度"、"皮实"、"勤奋"三个核心维度
- **灵活的checkpoint系统**：支持多种总结模式和断点续传
- **统一报告管理**：标准化命名和分类的JSON报告系统
- **交互式报告查看器**：便捷的报告浏览和管理工具

## 🏗️ 系统架构

```
Interview Simulator
├── 面试模拟系统
│   ├── 标准模拟面试 (三方角色扮演)
│   │   ├── 面试官代理 (InterviewerAgent)
│   │   ├── 候选人代理 (CandidateAgent)
│   │   └── HR代理 (HRAgent)
│   └── 真实数据面试 (双模式支持)
│       ├── 手动模式：用户亲自回答面试问题
│       ├── Agent模式：AI候选人根据真实简历自动回答
│       ├── 基于真实简历和JD的智能问题生成
│       └── 实时评估和反馈
├── 数据分析系统 (InterviewDataProcessor)
│   ├── CSV数据加载和清理
│   ├── 岗位分布分析
│   ├── 面试结果统计
│   └── 可视化图表生成
├── 经验提取系统
│   ├── 智能下采样 (支持序号选择)
│   ├── 经验提取和总结
│   ├── 多种总结模式 (增量/温故知新/全量)
│   └── Token使用统计和成本控制
├── 面试助手系统 (InterviewAssistant)
    ├── 基于简历和JD生成面试问题
    ├── 候选人匹配度分析
    └── 面试策略建议
└── 报告管理系统
    ├── 统一的文件命名规范
    ├── 三种报告类型分类
    ├── 交互式报告查看器
    └── 便捷的报告浏览和导航
```

## 核心功能模块

### 1. 📋 面试模拟功能

#### 标准模拟面试
- **多角色AI代理**：面试官、候选人、HR三重角色智能互动
- **冰山模型评估**：基于心理学冰山模型进行全面能力评估
- **智能评估系统**：实时评估候选人回答质量并生成评估报告

#### 真实数据面试
- **真实简历交互**：候选人使用CSV中的真实简历数据
- **AI生成问题**：根据简历和JD智能生成针对性面试问题
- **交互式对话**：用户作为候选人与HR助手进行真实对话
- **实时评估反馈**：每轮对话后提供专业评估和建议

### 2. 📊 数据分析功能

- **多编码支持**：自动处理UTF-8、GBK等编码格式
- **数据清理**：智能处理缺失值和异常数据
- **岗位分析**：岗位分布、聪明度要求统计
- **结果统计**：面试通过率、各轮面试表现分析
- **可视化图表**：饼图、柱状图、趋势图等
- **候选人搜索**：关键词搜索和详细信息提取

### 3. 🧠 经验提取功能

#### 灵活的数据选择
- **序号选择系统**：支持单个(2)、多个(2,4,6)、范围(2-5)、混合(1,3-5,8)选择
- **数据预览**：显示候选人信息供用户选择
- **智能验证**：自动验证选择的有效性

#### 多种总结模式
- **增量更新 (incremental)**：新经验与已有经验合并
- **温故知新 (review)**：包含历史经验的重新总结  
- **全量重新总结 (full_refresh)**：完全重新分析所有经验

#### 智能checkpoint系统
- **单文件保存**：每条经验保存为独立JSON文件
- **Token统计**：精确的成本控制和使用监控
- **断点续传**：支持任务中断和恢复

### 4. 🤖 面试助手功能

#### 智能问题生成
- **基于真实数据**：根据CSV中的简历和JD生成问题
- **手动输入支持**：支持用户自定义简历和JD
- **三维评估**：重点关注聪明度、皮实、勤奋
- **针对性设计**：问题具有强烈的岗位和候选人针对性

#### 候选人匹配度分析
- **多维度评估**：硬技能、软技能、经验、文化匹配度
- **风险识别**：潜在问题点和关注事项
- **面试建议**：具体的面试策略和重点

### 5. 📊 报告管理系统

#### 统一命名规范
- **通用面试经验指南**：`general_interview_guidelines_v[版本]_[时间戳].json`
- **个人面试经历**：`individual_interview_experience_[记录ID]_[时间戳].json`  
- **面试方案**：`interview_plan_[候选人ID]_[时间戳].json`

#### 交互式报告查看器
- **分类展示**：按报告类型自动分组显示
- **便捷浏览**：支持序号选择和完整内容查看
- **重新列表**：输入 `l` 重新显示所有可用报告
- **用户友好**：清晰的界面和操作指引

### 6. 🤖 智能候选人代理系统

#### RealDataCandidateAgent核心功能
- **人设构建**：基于真实简历、JD和岗位要求自动构建候选人persona
- **上下文感知**：结合简历背景、岗位需求和能力要求生成回答
- **回答一致性**：多轮对话保持人物设定和逻辑一致
- **真实性保证**：回答完全基于简历内容，不虚构经历

#### 应用场景
- **批量面试模拟**：无需人工参与的大规模候选人评估
- **面试标准制定**：通过多个候选人的自动面试建立评估基准  
- **HR技能训练**：HR可以与不同背景的AI候选人练习面试技巧
- **算法验证**：验证面试问题生成和评估算法的有效性

### 7. 📋 专业评估系统 🆕

#### EvalAssistant评估助手
- **标准化评估**：基于eval.md的专业评估标准进行候选人能力评估
- **三维评分体系**：聪明度、皮实、勤奋三个核心维度的精准评分
- **轮次评估**：对每个问题回答进行独立评估，识别考察意图和回答质量
- **综合复盘**：基于所有轮次评估生成全面的最终评估报告

#### 评估流程
1. **单轮评估**：
   - 识别问题考察维度（聪明度/皮实/勤奋/目标感/价值观）
   - 分析回答质量和真实性
   - 三维评分并说明依据
   - 提供追问建议和关键观察点

2. **最终复盘**：
   - 三维能力综合评分（含具体案例）
   - 总体推荐意见（推荐/考虑/不推荐）
   - 主要优势和改进建议
   - 风险点识别
   - 入职建议（匹配度、培养周期、薪资定位）
   - 面试复盘和下次面试建议

#### 评估标准
基于专业HR面试标准（eval.md）：
- **聪明度**：85分以上（反应快、有独到见解）、75-85分（逻辑清晰）、75分以下（思维混乱）
- **勤奋**：85分以上（自驱力强）、75-85分（主动性较强）、75分以下（拖拉低效）
- **皮实**：85分以上（迎难而上）、75-85分（能应对压力）、75分以下（易崩溃）


## 🚀 快速开始

### 环境要求

- Python >= 3.13
- UV 包管理器
- pandas, numpy, matplotlib, seaborn (数据分析)
- menglong (AI框架)

### 安装依赖

```bash
# 使用UV安装依赖
uv sync
```

### 准备数据

将面试数据CSV文件命名为 `interview_data.csv` 并放在项目根目录，包含以下必要列：

- `岗位名称`：职位名称
- `该岗位要求的聪明度（满分十分）`：聪明度要求评分
- `候选人脱敏简历`：候选人简历信息
- `岗位脱敏jd`：职位描述
- `一面面试对话`：面试对话记录
- `一面面试评价`：面试评价
- `一面通过还是没通过`：面试结果

### 配置角色

在 `prompts/` 目录下配置各个角色的行为特征：

- `interviewer.yaml`：面试官配置
- `candidate.yaml`：候选人配置  
- `hr.yaml`：HR配置

### 运行系统

```bash
# 启动主程序
uv run main.py
```

## 📁 项目结构

```
interview_sim/
├── main.py                           # 主程序入口 
├── interview_processor.py            # 数据处理核心模块
├── interview_assistant.py            # 面试助手模块
├── eval_assistant.py                 # 专业评估助手模块 🆕
├── interview_data.csv               # 面试数据文件
├── eval.md                          # 评估标准文档 🆕
├── pyproject.toml                   # 项目配置
├── README.md                        # 项目说明
├── uv.lock                         # 依赖锁定
├── prompts/                        # 角色配置
│   ├── candidate.yaml              # 候选人配置
│   ├── hr.yaml                     # HR配置
│   └── interviewer.yaml            # 面试官配置
├── checkpoints/                    # 经验checkpoint
│   ├── individual_interview_experience_*.json  # 个人经验文件 🆕
│   └── experience_extraction_*.json            # 批量经验文件
├── general_interview_guidelines_*.json        # 通用面试指南 🆕
├── interview_plan_*.json                      # 面试方案文件 🆕
├── real_data_interview_*.json                 # 真实数据面试记录（含评估详情）🆕
└── *.log                                      # 系统日志
```

## 💡 使用指南

### 1. 面试模拟

#### 标准模拟面试
```bash
选择：1 -> 1
# 三方AI角色扮演，完整面试流程
```

#### 真实数据面试 - 双模式支持
```bash
选择：1 -> 2 -> [选择候选人序号]
# 基于真实简历，支持两种面试模式：

# 手动模式 (模式1)：
# - 用户作为候选人亲自回答面试问题
# - 与AI面试官进行真实互动
# - 适合HR技能训练和面试体验

# Agent模式 (模式2)：
# - AI候选人根据真实简历数据自动回答
# - 完全自动化的面试流程
# - 适合批量候选人评估和算法验证
# - 支持多轮深度对话和专业评估
```

### 2. 数据分析

```bash
选择：2
# 全面分析面试数据
# 生成可视化图表和统计报告
```

### 3. 经验提取

```bash
选择：3
# 序号选择示例：
# 单个：2
# 多个：2,4,6,9  
# 范围：2-5 (包含2,3,4,5)
# 混合：1,3-5,8 (包含1,3,4,5,8)
```

### 4. 面试助手

```bash
选择：4
# 1. CSV数据生成问题 - 基于真实候选人
# 2. 手动输入生成问题 - 自定义简历JD
# 3. 匹配度分析 - 候选人岗位适配度
```

### 5. 报告查看器

```bash
选择：5
# 查看所有JSON报告文件
# 按类型分组显示：面试方案、经验指南、个人经历
# 输入 'l' 重新列出，输入序号查看具体内容
# 支持完整内容显示和便捷导航
```

## 🎯 三维能力评估框架

### 聪明度评估
- **逻辑思维**：问题分析和推理能力
- **学习能力**：快速掌握新知识的能力
- **举一反三**：知识迁移和应用能力
- **表达能力**：清晰准确的沟通表达

### 皮实评估  
- **抗压能力**：面对压力和质疑的稳定性
- **韧性恢复**：从挫折中快速恢复的能力
- **冲突处理**：解决问题和处理冲突的能力
- **自我认知**：对自身优缺点的准确认识

### 勤奋评估
- **主动性**：自发行动和超越要求的意愿
- **持续性**：长期坚持和投入的能力
- **时间投入**：实际的努力程度和时间分配
- **成果导向**：将努力转化为实际成果的能力

## 📊 输出结果

### 面试模拟输出
- `interview_result-候选人.txt`：标准面试总结  
- `real_data_interview_*.json`：真实数据面试记录（包含面试模式标识）🆕

### 数据分析输出
- `interview_analysis_report_*.json`：完整分析报告
- 可视化图表：岗位分布、通过率等

### 经验提取输出
- `interview_experience_report_*.json`：整合经验报告

### 面试助手输出
- `interview_plan_[候选人ID]_[时间戳].json`：面试问题方案
- `candidate_fit_analysis_*.json`：匹配度分析

### 经验提取输出
- `general_interview_guidelines_v[版本]_[时间戳].json`：通用面试经验指南
- `individual_interview_experience_[记录ID]_[时间戳].json`：个人面试经历
- `checkpoints/` 目录：各类经验checkpoint文件

## 🔧 高级配置

### Token使用优化
- 精确的Token统计和成本控制
- 支持多种AI模型pricing
- 实时成本监控和预警


### 自定义prompts
编辑 `prompts/` 目录下的YAML文件来自定义AI行为：

```yaml
# interviewer.yaml 示例
id: 岗位面试官
system: |
  你是一个专业的面试官，善于通过深度提问评估候选人的真实能力...
  # 自定义面试策略
```

## 🤝 贡献指南

欢迎提交Issue和Pull Request！请确保：

1. 代码符合项目规范
2. 添加适当的文档说明
3. 测试新功能的兼容性

## 📄 许可证

本项目采用开源许可证，具体请查看LICENSE文件。

---

**注意**：本项目用于面试技能训练、HR能力提升和面试流程优化，请遵循相关法律法规和职业道德。

### 🆕 v2.3.0 重要更新

#### 📊 专业评估系统 (EvalAssistant)
全新的独立评估助手模块，基于专业标准提供系统化的候选人评估：

- **标准化评估**：基于eval.md专业评估文档，确保评估的一致性和科学性
- **三维评分体系**：聪明度、皮实、勤奋三个核心维度，每个维度10分制评分
- **双阶段评估流程**：单轮即时评估 + 最终综合复盘，全面把握候选人表现
- **智能评分解析**：自动从评估文本中提取三维评分，计算统计数据

#### 🎯 专业评估标准
评估系统涵盖初试和终试两个阶段的不同考察重点：

- **初试考察**：逻辑思维、专业基础、沟通表达、学习能力、稳定性等
- **终试考察**：价值观匹配、目标感、职业规划、深度技能、综合素质等
- **评分档次**：85+优秀档、75-85良好档、75-基础档，清晰的评价标准

#### 💡 评估报告功能
每次面试自动生成专业的评估报告，包含：

- **单轮评估**：问题考察维度、回答质量分析、三维评分、追问建议
- **最终复盘**：综合表现总结、各维度平均分、录用建议、关键观察点
- **数据统计**：评分趋势、强项弱项分析、与标准对比
- **详细记录**：所有评估详情保存在面试记录JSON文件中

---

### 🆕 v2.2.0 重要更新

#### 🤖 智能候选人代理 (RealDataCandidateAgent)
全新的AI候选人代理功能，能够基于真实简历数据自动参与面试对话：

- **真实性**：完全基于简历内容，不虚构经历，确保回答的可信度
- **一致性**：多轮对话保持人物设定和逻辑统一，展现专业素养
- **适配性**：根据不同岗位要求和能力需求调整回答重点和风格
- **智能化**：自动构建候选人persona，生成符合简历背景的专业回答

#### 🎭 双模式面试体验
真实数据面试模拟现在支持两种完全不同的体验模式：

- **手动模式**：传统的用户参与式面试，适合HR技能训练和面试体验
- **Agent模式**：AI候选人自动回答，适合批量评估、算法验证和标准制定

#### 🚀 应用场景扩展
新功能大大扩展了系统的应用范围：

- **批量候选人筛选**：快速评估大量候选人的基本适配度
- **面试流程验证**：测试面试问题的有效性和评估标准的合理性
- **HR训练平台**：为不同经验水平的HR提供多样化的练习对象
- **标准化建立**：通过大量自动化面试建立科学的评估基准

## 🔄 版本历史

### v2.3.0 (当前版本) 🆕
- 📊 **专业评估系统**：独立封装的EvalAssistant评估助手
- 📝 **标准化评估**：基于eval.md的三维评估体系（聪明度、皮实、勤奋）
- 🎯 **双阶段评估**：单轮评估 + 最终综合复盘
- 💡 **智能评分**：自动解析和计算三维评分，提供专业评估报告
- 📁 **评估详情**：面试记录中包含详细的评估过程和分数统计
- 🔍 **评估标准**：初试和终试不同阶段的专业考察维度

### v2.2.0
- 🤖 新增RealDataCandidateAgent智能候选人代理
- 🎭 真实数据面试支持双模式：手动回答 vs AI自动回答
- 🚀 实现完全自动化的面试流程，支持批量候选人评估
- 💡 基于真实简历数据的智能人设构建和回答生成
- 📊 面试记录增加模式标识，便于区分和分析
- ⚡ 优化面试体验，支持8轮深度对话和专业评估

### v2.1.0
- 📊 新增交互式JSON报告查看器
- 📁 统一的三类报告文件命名规范
- 🔍 按类型分组的报告管理系统
- 💡 便捷的报告浏览和导航功能
- ⌨️ 支持 `l` 命令重新列表和完整内容显示

### v2.0.0
- ✨ 新增真实数据面试模拟功能
- 🧠 智能经验提取和多模式总结
- 🤖 面试助手和问题生成系统
- 📊 全面的数据分析和可视化
- 💰 精确的Token统计和成本控制
- 🔄 灵活的checkpoint和序号选择系统

### v1.0.0
- 🎯 基础三方角色扮演面试模拟
- 📋 冰山模型评估框架
- ⚙️ 可配置的角色系统